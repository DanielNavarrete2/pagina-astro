---
import Layout from "../layouts/Layout.astro";
interface PostInterface{
    userId:string;
    id:string;
    title:string;
    body: string;
}

// Codifo Senior
const data= async()=>{
    try{
        const response= await fetch(`${import.meta.env.urlback}/posts`);
        const posts = await response.json();
        return posts;
    }catch(error){
        console.error(`Error al obtener datos:${error}`);
    }
}
const posts: PostInterface[]= await data();



// Codigo Junior
// const response= await fetch("https://jsonplaceholder.typicode.com/posts");
// const users:  PostInterface[]= await response.json();

---

<Layout>
    <div class="container mx-auto p-10">
        <div class="grid grid-cols-4 gap-10">
            {posts.map((post)=>(
                <div class="bg-gray-300 rounded p-4 mt-4 border-2 border-dashed ">
                <h2>{post.title}</h2>
                <h3>{post.body}</h3>
                <h3>{post.userId}</h3>
                </div>
            ))}
        </div>
    </div>  
</Layout>